<div *ngIf="showSelectAll">
  <p-checkbox
    (onChange)="toggleSelectAll()"
    [ngModel]="allSelected"
    [binary]="true"
    inputId="{{ id }}-selectAll"
    [checkboxIcon]="isIndeterminate ? 'pi pi-minus' : 'pi pi-check'"
    [trueValue]="!isIndeterminate"
    [ngClass]="{ 'indeterminate-style': isIndeterminate }"
  >
  </p-checkbox>
  <label for="{{ id }}-selectAll" class="p-checkbox-label">{{
    selectAllText | translate
  }}</label>

  <hr />
</div>
<div *ngFor="let item of items; index as i" class="field-checkbox">
  <p-checkbox
    [value]="item.value"
    [(ngModel)]="selectedItems"
    [inputId]="id + i"
    [ngClass]="{ 'ng-invalid ng-dirty': invalid }"
    (onChange)="updateIndividualSelection()"
  >
  </p-checkbox>
  <label [for]="id + i" class="p-checkbox-label">{{
    item.label | translate
  }}</label>
</div>
